#!/usr/bin/garden-exec
#{
# source `dirname $0`/../share/env.sh
# export PATH=$(garden scriptdir):$PATH
# exec python $0 "$@"
#}

import viparr
import msys

def parse_args():
    from argparse import ArgumentParser
    parser = ArgumentParser()
    parser.add_argument("dms")
    parser.add_argument("-v", "--verbose", action="store_true")
    return parser.parse_args()

def main():
    args = parse_args()
    mol = msys.Load(args.dms)
    viparr._viparr.OptimizeVsiteDefs(mol.asCapsule(), args.verbose)
    mol.save(args.dms)

if __name__ == "__main__":
    main()

# vim: filetype=python
